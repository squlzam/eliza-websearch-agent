{"version":3,"sources":["../src/actions/transfer.ts","../src/providers/wallet.ts","../src/constants.ts","../src/index.ts"],"sourcesContent":["import { elizaLogger } from \"@elizaos/core\";\nimport {\n    ActionExample,\n    Content,\n    HandlerCallback,\n    IAgentRuntime,\n    Memory,\n    ModelClass,\n    State,\n    type Action,\n} from \"@elizaos/core\";\nimport { composeContext } from \"@elizaos/core\";\nimport { generateObjectDeprecated } from \"@elizaos/core\";\nimport {\n    Account,\n    Aptos,\n    AptosConfig,\n    Ed25519PrivateKey,\n    Network,\n    PrivateKey,\n    PrivateKeyVariants,\n} from \"@aptos-labs/ts-sdk\";\nimport { walletProvider } from \"../providers/wallet\";\n\nexport interface TransferContent extends Content {\n    recipient: string;\n    amount: string | number;\n}\n\nfunction isTransferContent(content: any): content is TransferContent {\n    console.log(\"Content for transfer\", content);\n    return (\n        typeof content.recipient === \"string\" &&\n        (typeof content.amount === \"string\" ||\n            typeof content.amount === \"number\")\n    );\n}\n\nconst transferTemplate = `Respond with a JSON markdown block containing only the extracted values. Use null for any values that cannot be determined.\n\nExample response:\n\\`\\`\\`json\n{\n    \"recipient\": \"0x2badda48c062e861ef17a96a806c451fd296a49f45b272dee17f85b0e32663fd\",\n    \"amount\": \"1000\"\n}\n\\`\\`\\`\n\n{{recentMessages}}\n\nGiven the recent messages, extract the following information about the requested token transfer:\n- Recipient wallet address\n- Amount to transfer\n\nRespond with a JSON markdown block containing only the extracted values.`;\n\nexport default {\n    name: \"SEND_TOKEN\",\n    similes: [\n        \"TRANSFER_TOKEN\",\n        \"TRANSFER_TOKENS\",\n        \"SEND_TOKENS\",\n        \"SEND_APT\",\n        \"PAY\",\n    ],\n    validate: async (runtime: IAgentRuntime, message: Memory) => {\n        console.log(\"Validating apt transfer from user:\", message.userId);\n        //add custom validate logic here\n        /*\n            const adminIds = runtime.getSetting(\"ADMIN_USER_IDS\")?.split(\",\") || [];\n            //console.log(\"Admin IDs from settings:\", adminIds);\n\n            const isAdmin = adminIds.includes(message.userId);\n\n            if (isAdmin) {\n                //console.log(`Authorized transfer from user: ${message.userId}`);\n                return true;\n            }\n            else\n            {\n                //console.log(`Unauthorized transfer attempt from user: ${message.userId}`);\n                return false;\n            }\n            */\n        return false;\n    },\n    description: \"Transfer tokens from the agent's wallet to another address\",\n    handler: async (\n        runtime: IAgentRuntime,\n        message: Memory,\n        state: State,\n        _options: { [key: string]: unknown },\n        callback?: HandlerCallback\n    ): Promise<boolean> => {\n        elizaLogger.log(\"Starting SEND_TOKEN handler...\");\n\n        const walletInfo = await walletProvider.get(runtime, message, state);\n        state.walletInfo = walletInfo;\n\n        // Initialize or update state\n        if (!state) {\n            state = (await runtime.composeState(message)) as State;\n        } else {\n            state = await runtime.updateRecentMessageState(state);\n        }\n\n        // Compose transfer context\n        const transferContext = composeContext({\n            state,\n            template: transferTemplate,\n        });\n\n        // Generate transfer content\n        const content = await generateObjectDeprecated({\n            runtime,\n            context: transferContext,\n            modelClass: ModelClass.SMALL,\n        });\n\n        // Validate transfer content\n        if (!isTransferContent(content)) {\n            console.error(\"Invalid content for TRANSFER_TOKEN action.\");\n            if (callback) {\n                callback({\n                    text: \"Unable to process transfer request. Invalid content provided.\",\n                    content: { error: \"Invalid transfer content\" },\n                });\n            }\n            return false;\n        }\n\n        try {\n            const privateKey = runtime.getSetting(\"APTOS_PRIVATE_KEY\");\n            const aptosAccount = Account.fromPrivateKey({\n                privateKey: new Ed25519PrivateKey(\n                    PrivateKey.formatPrivateKey(\n                        privateKey,\n                        PrivateKeyVariants.Ed25519\n                    )\n                ),\n            });\n            const network = runtime.getSetting(\"APTOS_NETWORK\") as Network;\n            const aptosClient = new Aptos(\n                new AptosConfig({\n                    network,\n                })\n            );\n\n            const APT_DECIMALS = 8;\n            const adjustedAmount = BigInt(\n                Number(content.amount) * Math.pow(10, APT_DECIMALS)\n            );\n            console.log(\n                `Transferring: ${content.amount} tokens (${adjustedAmount} base units)`\n            );\n\n            const tx = await aptosClient.transaction.build.simple({\n                sender: aptosAccount.accountAddress.toStringLong(),\n                data: {\n                    function: \"0x1::aptos_account::transfer\",\n                    typeArguments: [],\n                    functionArguments: [content.recipient, adjustedAmount],\n                },\n            });\n            const committedTransaction =\n                await aptosClient.signAndSubmitTransaction({\n                    signer: aptosAccount,\n                    transaction: tx,\n                });\n            const executedTransaction = await aptosClient.waitForTransaction({\n                transactionHash: committedTransaction.hash,\n            });\n\n            console.log(\"Transfer successful:\", executedTransaction.hash);\n\n            if (callback) {\n                callback({\n                    text: `Successfully transferred ${content.amount} APT to ${content.recipient}, Transaction: ${executedTransaction.hash}`,\n                    content: {\n                        success: true,\n                        hash: executedTransaction.hash,\n                        amount: content.amount,\n                        recipient: content.recipient,\n                    },\n                });\n            }\n\n            return true;\n        } catch (error) {\n            console.error(\"Error during token transfer:\", error);\n            if (callback) {\n                callback({\n                    text: `Error transferring tokens: ${error.message}`,\n                    content: { error: error.message },\n                });\n            }\n            return false;\n        }\n    },\n\n    examples: [\n        [\n            {\n                user: \"{{user1}}\",\n                content: {\n                    text: \"Send 69 APT tokens to 0x4f2e63be8e7fe287836e29cde6f3d5cbc96eefd0c0e3f3747668faa2ae7324b0\",\n                },\n            },\n            {\n                user: \"{{user2}}\",\n                content: {\n                    text: \"I'll send 69 APT tokens now...\",\n                    action: \"SEND_TOKEN\",\n                },\n            },\n            {\n                user: \"{{user2}}\",\n                content: {\n                    text: \"Successfully sent 69 APT tokens to 0x4f2e63be8e7fe287836e29cde6f3d5cbc96eefd0c0e3f3747668faa2ae7324b0, Transaction: 0x39a8c432d9bdad993a33cc1faf2e9b58fb7dd940c0425f1d6db3997e4b4b05c0\",\n                },\n            },\n        ],\n    ] as ActionExample[][],\n} as Action;\n","import {\n    IAgentRuntime,\n    ICacheManager,\n    Memory,\n    Provider,\n    State,\n} from \"@elizaos/core\";\nimport {\n    Account,\n    Aptos,\n    AptosConfig,\n    Ed25519PrivateKey,\n    Network,\n    PrivateKey,\n    PrivateKeyVariants,\n} from \"@aptos-labs/ts-sdk\";\nimport BigNumber from \"bignumber.js\";\nimport NodeCache from \"node-cache\";\nimport * as path from \"path\";\nimport { APT_DECIMALS } from \"../constants\";\n\n// Provider configuration\nconst PROVIDER_CONFIG = {\n    MAX_RETRIES: 3,\n    RETRY_DELAY: 2000,\n};\n\ninterface WalletPortfolio {\n    totalUsd: string;\n    totalApt: string;\n}\n\ninterface Prices {\n    apt: { usd: string };\n}\n\nexport class WalletProvider {\n    private cache: NodeCache;\n    private cacheKey: string = \"aptos/wallet\";\n\n    constructor(\n        private aptosClient: Aptos,\n        private address: string,\n        private cacheManager: ICacheManager\n    ) {\n        this.cache = new NodeCache({ stdTTL: 300 }); // Cache TTL set to 5 minutes\n    }\n\n    private async readFromCache<T>(key: string): Promise<T | null> {\n        const cached = await this.cacheManager.get<T>(\n            path.join(this.cacheKey, key)\n        );\n        return cached;\n    }\n\n    private async writeToCache<T>(key: string, data: T): Promise<void> {\n        await this.cacheManager.set(path.join(this.cacheKey, key), data, {\n            expires: Date.now() + 5 * 60 * 1000,\n        });\n    }\n\n    private async getCachedData<T>(key: string): Promise<T | null> {\n        // Check in-memory cache first\n        const cachedData = this.cache.get<T>(key);\n        if (cachedData) {\n            return cachedData;\n        }\n\n        // Check file-based cache\n        const fileCachedData = await this.readFromCache<T>(key);\n        if (fileCachedData) {\n            // Populate in-memory cache\n            this.cache.set(key, fileCachedData);\n            return fileCachedData;\n        }\n\n        return null;\n    }\n\n    private async setCachedData<T>(cacheKey: string, data: T): Promise<void> {\n        // Set in-memory cache\n        this.cache.set(cacheKey, data);\n\n        // Write to file-based cache\n        await this.writeToCache(cacheKey, data);\n    }\n\n    private async fetchPricesWithRetry() {\n        let lastError: Error;\n\n        for (let i = 0; i < PROVIDER_CONFIG.MAX_RETRIES; i++) {\n            try {\n                const cellanaAptUsdcPoolAddr =\n                    \"0x234f0be57d6acfb2f0f19c17053617311a8d03c9ce358bdf9cd5c460e4a02b7c\";\n                const response = await fetch(\n                    `https://api.dexscreener.com/latest/dex/pairs/aptos/${cellanaAptUsdcPoolAddr}`\n                );\n\n                if (!response.ok) {\n                    const errorText = await response.text();\n                    throw new Error(\n                        `HTTP error! status: ${response.status}, message: ${errorText}`\n                    );\n                }\n\n                const data = await response.json();\n                return data;\n            } catch (error) {\n                console.error(`Attempt ${i + 1} failed:`, error);\n                lastError = error;\n                if (i < PROVIDER_CONFIG.MAX_RETRIES - 1) {\n                    const delay = PROVIDER_CONFIG.RETRY_DELAY * Math.pow(2, i);\n                    await new Promise((resolve) => setTimeout(resolve, delay));\n                    continue;\n                }\n            }\n        }\n\n        console.error(\n            \"All attempts failed. Throwing the last error:\",\n            lastError\n        );\n        throw lastError;\n    }\n\n    async fetchPortfolioValue(): Promise<WalletPortfolio> {\n        try {\n            const cacheKey = `portfolio-${this.address}`;\n            const cachedValue =\n                await this.getCachedData<WalletPortfolio>(cacheKey);\n\n            if (cachedValue) {\n                console.log(\"Cache hit for fetchPortfolioValue\", cachedValue);\n                return cachedValue;\n            }\n            console.log(\"Cache miss for fetchPortfolioValue\");\n\n            const prices = await this.fetchPrices().catch((error) => {\n                console.error(\"Error fetching APT price:\", error);\n                throw error;\n            });\n            const aptAmountOnChain = await this.aptosClient\n                .getAccountAPTAmount({\n                    accountAddress: this.address,\n                })\n                .catch((error) => {\n                    console.error(\"Error fetching APT amount:\", error);\n                    throw error;\n                });\n\n            const aptAmount = new BigNumber(aptAmountOnChain).div(\n                new BigNumber(10).pow(APT_DECIMALS)\n            );\n            const totalUsd = new BigNumber(aptAmount).times(prices.apt.usd);\n\n            const portfolio = {\n                totalUsd: totalUsd.toString(),\n                totalApt: aptAmount.toString(),\n            };\n            this.setCachedData(cacheKey, portfolio);\n            console.log(\"Fetched portfolio:\", portfolio);\n            return portfolio;\n        } catch (error) {\n            console.error(\"Error fetching portfolio:\", error);\n            throw error;\n        }\n    }\n\n    async fetchPrices(): Promise<Prices> {\n        try {\n            const cacheKey = \"prices\";\n            const cachedValue = await this.getCachedData<Prices>(cacheKey);\n\n            if (cachedValue) {\n                console.log(\"Cache hit for fetchPrices\");\n                return cachedValue;\n            }\n            console.log(\"Cache miss for fetchPrices\");\n\n            const aptPriceData = await this.fetchPricesWithRetry().catch(\n                (error) => {\n                    console.error(\"Error fetching APT price:\", error);\n                    throw error;\n                }\n            );\n            const prices: Prices = {\n                apt: { usd: aptPriceData.pair.priceUsd },\n            };\n            this.setCachedData(cacheKey, prices);\n            return prices;\n        } catch (error) {\n            console.error(\"Error fetching prices:\", error);\n            throw error;\n        }\n    }\n\n    formatPortfolio(runtime, portfolio: WalletPortfolio): string {\n        let output = `${runtime.character.name}\\n`;\n        output += `Wallet Address: ${this.address}\\n`;\n\n        const totalUsdFormatted = new BigNumber(portfolio.totalUsd).toFixed(2);\n        const totalAptFormatted = new BigNumber(portfolio.totalApt).toFixed(4);\n\n        output += `Total Value: $${totalUsdFormatted} (${totalAptFormatted} APT)\\n`;\n\n        return output;\n    }\n\n    async getFormattedPortfolio(runtime): Promise<string> {\n        try {\n            const portfolio = await this.fetchPortfolioValue();\n            return this.formatPortfolio(runtime, portfolio);\n        } catch (error) {\n            console.error(\"Error generating portfolio report:\", error);\n            return \"Unable to fetch wallet information. Please try again later.\";\n        }\n    }\n}\n\nconst walletProvider: Provider = {\n    get: async (\n        runtime: IAgentRuntime,\n        _message: Memory,\n        _state?: State\n    ): Promise<string | null> => {\n        const privateKey = runtime.getSetting(\"APTOS_PRIVATE_KEY\");\n        const aptosAccount = Account.fromPrivateKey({\n            privateKey: new Ed25519PrivateKey(\n                PrivateKey.formatPrivateKey(\n                    privateKey,\n                    PrivateKeyVariants.Ed25519\n                )\n            ),\n        });\n        const network = runtime.getSetting(\"APTOS_NETWORK\") as Network;\n\n        try {\n            const aptosClient = new Aptos(\n                new AptosConfig({\n                    network,\n                })\n            );\n            const provider = new WalletProvider(\n                aptosClient,\n                aptosAccount.accountAddress.toStringLong(),\n                runtime.cacheManager\n            );\n            return await provider.getFormattedPortfolio(runtime);\n        } catch (error) {\n            console.error(\"Error in wallet provider:\", error);\n            return null;\n        }\n    },\n};\n\n// Module exports\nexport { walletProvider };\n","export const APT_DECIMALS = 8;","import { Plugin } from \"@elizaos/core\";\nimport transferToken from \"./actions/transfer.ts\";\nimport { WalletProvider, walletProvider } from \"./providers/wallet.ts\";\n\nexport { WalletProvider, transferToken as TransferAptosToken };\n\nexport const aptosPlugin: Plugin = {\n    name: \"aptos\",\n    description: \"Aptos Plugin for Eliza\",\n    actions: [transferToken],\n    evaluators: [],\n    providers: [walletProvider],\n};\n\nexport default aptosPlugin;\n"],"mappings":"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","names":["Account","Aptos","AptosConfig","Ed25519PrivateKey","PrivateKey","PrivateKeyVariants","Account","Ed25519PrivateKey","PrivateKey","PrivateKeyVariants","Aptos","AptosConfig","APT_DECIMALS"]}